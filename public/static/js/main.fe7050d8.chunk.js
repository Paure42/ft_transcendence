(this["webpackJsonpoverkill-pong"]=this["webpackJsonpoverkill-pong"]||[]).push([[0],{100:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){e.exports={"justify-content-end":"MainNavBar_justify-content-end__2x-Dz"}},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(25),i=n.n(a),r=(n(99),n(100),n(30)),o=n(8),l=n(6),j=n(40),d=n.n(j),b=n(60),u=n(47),h=n(48),m=n(9),O=n.n(m),x="".concat("","/authentication/"),f=new(function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,[{key:"login",value:function(){var e=Object(b.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(x+"log-in",{username:t,password:n},{withCredentials:!0}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(b.a)(d.a.mark((function e(t,n,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(x+"register",{username:t,password:n,avatar:c});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}()}]),e}()),p=n(13),g=n(27),v=n(50),N=n(34),w=n(26),y=(n(71),n(1)),k={id:-1,username:"",wins:0,losses:0,friendlist:["",""],blocklist:["",""],elo:0,status:"online",avatar:""},C=s.a.createContext(void 0),S=function(e){var t=e.children,n=s.a.useState(k),c=Object(l.a)(n,2),a=c[0],i=c[1];return Object(y.jsx)(C.Provider,{value:{user:a,setUser:i},children:t})},L=function(){return s.a.useContext(C)},_=n(37),E=n(49);var R=function(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(""),r=Object(l.a)(i,2),j=r[0],d=r[1],b=Object(c.useState)(""),u=Object(l.a)(b,2),h=u[0],m=u[1],O=L().user;return O.id<0?Object(y.jsx)("div",{className:"Login",children:Object(y.jsxs)(p.a,{onSubmit:function(t){t.preventDefault();var n=Object(_.createAvatar)(E,{seed:s}),c="data:image/svg+xml;base64,"+btoa(n);O.avatar=c,f.register(s,j,c).then((function(){e.history.push("/login"),window.location.reload()}),(function(e){e.toString(),console.log(e.response.data.message),m(e.response.data.message)}))},children:[Object(y.jsxs)("div",{className:"textbox",children:[Object(y.jsxs)(p.a.Group,{className:"mb-3",children:[Object(y.jsx)(p.a.Label,{children:"Username"}),Object(y.jsx)(p.a.Control,{autoFocus:!0,type:"text",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(y.jsxs)(p.a.Group,{controlId:"password",children:[Object(y.jsx)(p.a.Label,{children:"Password"}),Object(y.jsx)(p.a.Control,{type:"password",value:j,onChange:function(e){return d(e.target.value)}})]})]}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)(N.a,{children:Object(y.jsx)("div",{style:{color:"red",paddingBottom:"20px"},children:h})}),Object(y.jsxs)(N.a,{children:[Object(y.jsx)(w.a,{children:Object(y.jsx)(g.a,{variant:"primary",type:"submit",disabled:!(s.length>0&&j.length>0),children:"Register"})}),Object(y.jsx)(w.a,{children:Object(y.jsx)(g.a,{href:"/#login",variant:"link",children:"Login"})})]})]})]})}):Object(y.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})},U=n(88),D=n.n(U)()("".concat("")),I=s.a.createContext(void 0);var P=function(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),j=Object(l.a)(r,2),d=j[0],b=j[1],u=Object(c.useState)(""),h=Object(l.a)(u,2),m=h[0],O=h[1],x=s.a.useContext(I),k=L(),C=k.user,S=k.setUser;return C.id<0?Object(y.jsx)("div",{className:"Login",children:Object(y.jsxs)(p.a,{onSubmit:function(e){e.preventDefault(),console.log("env",""),f.login(a,d).then((function(e){S(e),x.emit("login",a)}),(function(e){console.log("error"),O("Wrong credentials provided")}))},children:[Object(y.jsxs)("div",{className:"textbox",children:[Object(y.jsxs)(p.a.Group,{className:"mb-3",children:[Object(y.jsx)(p.a.Label,{children:"Username"}),Object(y.jsx)(p.a.Control,{autoFocus:!0,type:"text",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(y.jsxs)(p.a.Group,{controlId:"password",children:[Object(y.jsx)(p.a.Label,{children:"Password"}),Object(y.jsx)(p.a.Control,{type:"password",value:d,onChange:function(e){return b(e.target.value)}})]})]}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)(N.a,{children:Object(y.jsx)("div",{style:{color:"red",paddingBottom:"20px"},children:m})}),Object(y.jsxs)(N.a,{children:[Object(y.jsx)(w.a,{children:Object(y.jsx)(g.a,{variant:"primary",type:"submit",disabled:!(a.length>0&&d.length>0),children:"Login"})}),Object(y.jsx)(w.a,{children:Object(y.jsx)(g.a,{href:"/#register",variant:"link",children:"Register"})})]})]})]})}):Object(y.jsx)(o.a,{to:{pathname:"/profile/:"+C.username,state:{from:e.location}}})};n(157);var F=function(e){var t=L().user;return t.id>0?Object(y.jsx)(o.a,{to:{pathname:"/profile/:"+t.username,state:{from:e.location}}}):Object(y.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})},T=n(53),B=n(175),G=n(176),z=n(174);n(158);var A=Object(o.g)((function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(!1),r=Object(l.a)(i,2),o=r[0],j=r[1],d=L().user,b="#profile/:"+d.username,u=d.avatar,h=Object(c.useState)(u),m=Object(l.a)(h,2),x=m[0],f=m[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{bg:"dark",variant:"dark",children:Object(y.jsxs)(v.a,{children:[Object(y.jsx)(B.a.Brand,{children:"OVERKILL PONG"}),Object(y.jsxs)(G.a,{className:"me-auto",children:[Object(y.jsx)(G.a.Link,{href:b,children:"Profile"}),Object(y.jsx)(G.a.Link,{href:"#game",children:"Game"}),Object(y.jsx)(G.a.Link,{href:"#chat/:General",children:"Chat"}),Object(y.jsx)(G.a.Link,{href:"#ladder",children:"Ladder"})]}),Object(y.jsx)(B.a.Toggle,{}),Object(y.jsxs)(B.a.Collapse,{className:"justify-content-end",children:[Object(y.jsx)(B.a.Brand,{children:Object(y.jsx)("img",{src:x,alt:"avatar",style:{border:"solid white 2px"},width:"50",height:"50"})}),Object(y.jsxs)(z.a,{title:d.id>0?d.username:"null",id:"profile",children:[Object(y.jsx)(z.a.Item,{onClick:function(){return j(!o)},children:"Change Avatar"}),Object(y.jsx)(z.a.Item,{href:"#logout",children:"Logout"})]})]})]})}),o?Object(y.jsx)("div",{children:Object(y.jsxs)(p.a,{inline:!0,onSubmit:function(e){e.preventDefault();var t=s[0];"undefined"!==typeof s[0]?t.size>2e5?alert("File must be < 200ko"):(function(e){return new Promise((function(t){var n="",c=new FileReader;c.readAsDataURL(e),c.onload=function(){n=c.result,t(n)}}))}(s[0]).then((function(e){var t=JSON.stringify(e);return t=t.substring(1,t.length-1),f(t),d.avatar=t,O.a.post("".concat("","/authentication/update_avatar"),{data:t},{withCredentials:!0})})),console.log("ok")):alert("You must choose a file")},style:{paddingTop:"3px"},children:[Object(y.jsx)(p.a.Control,{type:"file",onChange:function(e){a(e.target.files)},accept:"image/*,.pdf"}),Object(y.jsx)(g.a,{variant:"secondary",style:{marginBottom:"3px"},size:"sm",type:"submit",children:"Upload"}),Object(y.jsx)("span",{children:"  Maximum size 200ko"})]})}):Object(y.jsx)("div",{})]})})),M=(n(160),new(function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,[{key:"intercept401",value:function(e){O.a.interceptors.response.use((function(e){return e}),(function(t){return 401===t.response.status?(console.log("401"),e.history.push("/logout")):404===t.response.status&&console.log(404),t}))}}]),e}()));var H=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),j=Object(l.a)(r,2),d=j[0],b=j[1],u=Object(c.useState)(!0),h=Object(l.a)(u,2),m=h[0],x=h[1],f=Object(c.useState)({}),v=Object(l.a)(f,2),k=v[0],C=v[1],S=Object(c.useState)(""),_=Object(l.a)(S,2),E=(_[0],_[1],Object(c.useState)(!1)),R=Object(l.a)(E,2),U=R[0],D=R[1],P=Object(c.useState)(""),F=Object(l.a)(P,2),B=F[0],G=F[1],z=Object(c.useState)(""),H=Object(l.a)(z,2),V=H[0],W=H[1],J=Object(c.useState)(""),Y=Object(l.a)(J,2),q=(Y[0],Y[1]),K=Object(c.useState)(""),Q=Object(l.a)(K,2),X=Q[0],Z=Q[1],$=Object(c.useState)(0),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)([]),se=Object(l.a)(ce,2),ae=se[0],ie=se[1],re=L(),oe=re.user,le=(re.setUser,s.a.useContext(I)),je=Object(o.f)().id.substring(1),de=document.getElementById("chat");function be(){q(je)}return de&&(de.scrollTop=de.scrollHeight),Object(c.useEffect)((function(){console.log("loop"),M.intercept401(e),oe.id>0&&le.emit("login",oe.username),O.a.get("".concat("","/authentication/friends"),{withCredentials:!0}).then((function(e){if(e.data){i(e.data);for(var t={},n=0;n<e.data.length;n++)t[e.data[n].username]=e.data[n].status;C(t)}})),O.a.get("".concat("","/chat/channels"),{withCredentials:!0}).then((function(e){if(e.data){for(var t=[],n=0;n<e.data.length;n++)t[n]={admin:e.data[n].admin,name:e.data[n].name,password:e.data[n].password};b(t)}})),O.a.post("".concat("","/chat/messages"),{channel:je},{withCredentials:!0}).then((function(e){e.data&&(console.log("okok"),ie(e.data)),x(!1)}))}),[je]),Object(c.useEffect)((function(){le.on("status",(function(e){var t=k;t[e.username]=e.status,C(t)}))}),[k]),Object(c.useEffect)((function(){console.log("ok"),le.on("channel_created",(function(e){var t=te+1,n={admin:e.admin,name:e.name,password:e.password};b([].concat(Object(T.a)(d),[n])),ne(t)}))}),[te]),Object(c.useEffect)((function(){console.log("receive"),le.on("receive_message",(function(e){var t={id:e.id,author:e.author,content:e.content};ie([].concat(Object(T.a)(ae),[t]));var n=document.getElementById("chat");n&&(n.scrollTop=n.scrollHeight)}))}),[te]),oe.id>0&&m?Object(y.jsx)("div",{children:Object(y.jsx)(A,{})}):oe.id>0?Object(y.jsxs)("div",{children:[Object(y.jsx)(A,{}),Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-2 row-height",children:[Object(y.jsx)("div",{className:"btnb mt-2",children:Object(y.jsx)("button",{className:"btn btn-secondary",onClick:function(){D(!U)},children:"Create a channel"})}),U?Object(y.jsx)("div",{className:"chantoggle",children:Object(y.jsxs)(p.a,{onSubmit:function(e){e.preventDefault();var t={admin:oe.username,name:B,password:V};console.log("call"),d.find((function(e){return e.name==t.name}))?alert("This channel already exists"):(b([].concat(Object(T.a)(d),[t])),le.emit("create_channel",t),console.log(d))},children:[Object(y.jsx)(p.a.Control,{size:"sm",type:"text",placeholder:"Channel name",autoFocus:!0,value:B,onChange:function(e){return G(e.target.value)}}),Object(y.jsx)(p.a.Control,{size:"sm",type:"text",placeholder:"Password (optional)",value:V,onChange:function(e){return W(e.target.value)}}),Object(y.jsx)(g.a,{type:"submit",className:"btn btn-secondary",children:"Create"})]})}):"",Object(y.jsx)("hr",{}),Object(y.jsx)("h5",{id:"subTitle",children:"FRIENDS"}),Object(y.jsx)("div",{className:"friendlist",children:Object(y.jsx)("ul",{className:"ul",children:a.map((function(e){return t=e,Object(y.jsxs)("li",{className:"row",children:[Object(y.jsx)("div",{className:"col-3 avatar",children:Object(y.jsx)("img",{src:t.avatar,width:"30px",height:"30px",alt:""})}),Object(y.jsxs)("div",{className:"col userinfo",children:[Object(y.jsx)("a",{href:"#profile/:"+t.username,children:t.username}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{className:"online"==k[t.username]?"status green":"offline"==k[t.username]?"status orange":"status blue"}),k[t.username]]})]})]},t.username);var t}))})}),Object(y.jsx)("hr",{}),Object(y.jsx)("h5",{id:"subTitle",children:"CHANNELS"}),Object(y.jsx)("div",{className:"friendlist",children:Object(y.jsx)("ul",{className:"chanlist",children:d.map((function(e){return t=e,Object(y.jsx)("a",{href:"#chat/:"+t.name,onClick:be,children:Object(y.jsx)("li",{className:"row",children:Object(y.jsx)("div",{className:"col chaninfo",children:t.name})})},t.name);var t}))})})]}),Object(y.jsxs)("div",{className:"col-10 row-chat",children:[Object(y.jsx)("div",{className:"row chatheader",children:Object(y.jsx)("p",{children:je})}),Object(y.jsx)("div",{className:"row chatbox",children:Object(y.jsx)("ul",{id:"chat",children:ae?ae.map((function(e){return t=e,Object(y.jsxs)("li",{className:t.author==oe.username?"me":"you",children:[Object(y.jsx)("div",{className:"entete",children:Object(y.jsx)("h2",{children:t.author})}),Object(y.jsx)("div",{className:"message",children:t.content})]},t.id);var t})):""})}),Object(y.jsx)("div",{className:"row chatfooter",children:Object(y.jsx)(p.a,{onSubmit:function(e){e.preventDefault();var t=te+1;console.log("send"),le.emit("send_message",{channel:je,content:X}),ne(t),Z("")},children:Object(y.jsxs)(N.a,{className:"align-items-center",children:[Object(y.jsx)(w.a,{sm:10,className:"my-1",children:Object(y.jsx)(p.a.Control,{autoFocus:!0,as:"textarea",rows:5,style:{width:"100%",resize:"none"},placeholder:"Message",value:X,onChange:function(e){return Z(e.target.value)}})}),Object(y.jsx)(w.a,{xs:"auto",className:"my-1",children:Object(y.jsx)(g.a,{type:"submit",children:"Submit"})})]})})})]})]})})]}):Object(y.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})};var V=function(e){var t=s.a.useContext(I),n=L(),a=n.user,i=n.setUser;return Object(c.useEffect)((function(){console.log("logout"),t.emit("logout",a.username),t.off(),O.a.post("".concat("","/authentication/log-out"),{}).then((function(t){console.log(t.data),i(k),e.history.push("/login")}))}),[]),Object(y.jsx)("div",{})};var W=function(e){var t=s.a.useContext(I),n=L(),a=n.user,i=(n.setUser,Object(c.useState)(!0)),r=Object(l.a)(i,2),o=r[0],j=r[1];return a.id>0&&t.emit("login",a.username),Object(c.useEffect)((function(){return t.emit("newplayer",a.username),t.on("nb_players",(function(n){console.log(n),n%2===0?(t.emit("game_on",a.username),t.on("active_players",(function(n){j(!1),t.emit("rm_from_lobby",a.username),e.history.push("/game/:".concat(n.i))}))):j(!0)})),function(){t.emit("player_leave",a.username),t.off("nb_players"),t.off("active_players")}}),[]),a.id>0?Object(y.jsxs)("div",{children:[Object(y.jsx)(A,{}),o?Object(y.jsx)("div",{children:"YOU ARE WAITING"}):Object(y.jsx)("div",{})]}):(e.history.push("/login"),Object(y.jsx)("div",{}))};n(161);var J=function(e){var t,n,a,i,r=s.a.useContext(I),j=L(),d=j.user,b=(j.setUser,Object(o.f)().room.substring(1)),u=Object(c.useState)(["",""]),h=Object(l.a)(u,2),m=h[0],O=h[1],x=Object(c.useState)(""),f=Object(l.a)(x,2),p=f[0],g=f[1],v=Object(c.useRef)(null);return Object(c.useEffect)((function(){console.log("use"),(n=v.current).width=n.clientWidth,n.height=n.clientHeight,(t=n.getContext("2d")).canvas.height=3*n.width/4,t.clearRect(0,0,n.width,n.height),a=n.width,i=n.height,console.log(a,i)}),[]),Object(c.useEffect)((function(){return r.emit("game_info",b),r.on("game",(function(e){t.clearRect(0,0,n.width,n.height),t.beginPath(),t.arc(e.bp.x*(a/100),e.bp.y*(i/100),a/50,0,2*Math.PI),t.fillStyle="red",t.fill(),t.stroke(),t.fillStyle="black",t.fillRect(2,e.p1*(i/100),a/40,i/5),t.fillRect(a-a/40-2,e.p2*(i/100),a/40,i/5)})),function(){r.off("game"),r.emit("stop_info",b)}}),[b,r]),Object(c.useEffect)((function(){return r.emit("game_start",{username:d.username,room:b}),r.on("role",(function(e){O(e.players),g(e.role)})),function(){r.off("role")}}),[b,r,d.username]),Object(c.useEffect)((function(){var e=function(e){console.log("event",p),"player1"!==p&&"player2"!==p||r.emit("send_key",{key:e.key,role:p,room:b})};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[m,p,b,r]),Object(c.useEffect)((function(){return r.on("rec_key",(function(e){console.log(e)})),function(){r.off("rec_key")}}),[r]),Object(y.jsxs)("div",{children:[Object(y.jsx)(A,{}),Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-2 row-height",children:[Object(y.jsx)("hr",{}),Object(y.jsx)("h5",{id:"subTitle",children:"PLAYERS"}),Object(y.jsx)("div",{className:"friendlist",children:Object(y.jsxs)("ul",{className:"ul",children:[Object(y.jsx)("li",{children:Object(y.jsx)("div",{className:"col userinfo",children:m[0]})}),Object(y.jsx)("li",{children:Object(y.jsx)("div",{className:"col userinfo",children:m[1]})})]})})]}),Object(y.jsx)("div",{className:"col-10 row-game",children:Object(y.jsx)("canvas",{ref:v})})]})})]})},Y=(n(162),n.p+"static/media/or.a5658128.png"),q=n.p+"static/media/argent.3b9f2230.png",K=n.p+"static/media/bronze.6053b75e.png";var Q=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(!1),j=Object(l.a)(r,2),d=j[0],b=j[1],u=Object(c.useState)(!1),h=Object(l.a)(u,2),m=h[0],x=h[1],f=Object(c.useState)([]),p=Object(l.a)(f,2),g=p[0],v=p[1],N=Object(c.useState)(!1),w=Object(l.a)(N,2),k=w[0],C=w[1],S=Object(c.useState)(0),_=Object(l.a)(S,2),E=_[0],R=_[1],U=s.a.useContext(I),D=L(),P=D.user,F=(D.setUser,Object(o.f)().username.substring(1)),T=0;return Object(c.useEffect)((function(){return console.log("useeffect"),P.id>0&&U.emit("login",P.username),O.a.post("".concat("","/authentication/profile2"),{username:F},{withCredentials:!0}).then((function(e){e.data&&(console.log("response"),v(e.data.ret.matches),b(!1),x(!1),i(e.data.ret),e.data.ret.current.friendlist.find((function(t){return t===e.data.ret.username}))&&b(!0),e.data.ret.current.blocklist.find((function(t){return t===e.data.ret.username}))&&x(!0),console.log("compare:",e.data.ret.current.username,e.data.ret.username),C(!1))})).catch((function(t){401==t.response.status?e.history.push("/logout"):404==t.response.status&&e.history.push("/profile/:"+P.username),C(!1)})),function(){v([]),b(!1),x(!1),i(void 0),R(0)}}),[F]),401==E?Object(y.jsx)("div",{}):k?Object(y.jsx)(A,{}):P.id>0?Object(y.jsxs)("div",{children:[Object(y.jsx)(A,{}),a?Object(y.jsx)("div",{className:"container-fluid",children:Object(y.jsx)("div",{className:"row py-4 px-4",children:Object(y.jsx)("div",{className:"col mx-auto",children:Object(y.jsxs)("div",{className:"bg-dark shadow rounded overflow-hidden",children:[Object(y.jsx)("div",{className:"px-4 pt-0 pb-5",children:Object(y.jsxs)("div",{className:"row media align-items-center profile-head",children:[Object(y.jsx)("div",{className:"profile mr-3 col-4",children:Object(y.jsx)("img",{src:a.avatar,alt:"...",width:"180",className:"rounded mb-2 img-thumbnail"})}),Object(y.jsxs)("div",{className:"col-8 text-white",children:[Object(y.jsxs)("h2",{className:"mt-0 mb-0",children:[a.username+" ",1===a.rank?Object(y.jsx)("img",{src:Y,height:"40",width:"40"}):"",2===a.rank?Object(y.jsx)("img",{src:q,height:"40",width:"40"}):"",3===a.rank?Object(y.jsx)("img",{src:K,height:"40",width:"40"}):""]}),Object(y.jsxs)("p",{className:"mb-4",children:["Rank #",a.rank," (",a.elo,")"]})]})]})}),Object(y.jsx)("div",{className:"bg-light p-4 d-flex justify-content-center text-center",children:Object(y.jsxs)("ul",{className:"list-inline mb-0 col-12",children:[Object(y.jsxs)("li",{className:"list-inline-item col-2",children:[Object(y.jsx)("h5",{className:"font-weight-bold mb-0 d-block",children:a.wins}),Object(y.jsxs)("small",{className:"text-muted",children:[" ",Object(y.jsx)("i",{className:"fas fa-image mr-1"}),"Wins"]})]}),Object(y.jsxs)("li",{className:"list-inline-item col-2",children:[Object(y.jsx)("h5",{className:"font-weight-bold mb-0 d-block",children:a.losses}),Object(y.jsxs)("small",{className:"text-muted",children:[" ",Object(y.jsx)("i",{className:"fas fa-image mr-1"}),"Losses"]})]}),Object(y.jsxs)("li",{className:"list-inline-item col-2",children:[Object(y.jsx)("h5",{className:"font-weight-bold mb-0 d-block",children:a.wins+a.losses}),Object(y.jsxs)("small",{className:"text-muted",children:[" ",Object(y.jsx)("i",{className:"fas fa-user mr-1"}),"Total"]})]}),Object(y.jsxs)("li",{className:"list-inline-item col-2",children:[Object(y.jsxs)("h5",{className:"font-weight-bold mb-0 d-block",children:[a.wins+a.losses?Math.round(a.wins/(a.wins+a.losses)*100):0,"%"]}),Object(y.jsxs)("small",{className:"text-muted",children:[" ",Object(y.jsx)("i",{className:"fas fa-user mr-1"}),"Ratio"]})]})]})}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-6 px-4 py-3",children:[Object(y.jsx)("h5",{className:"mb-0 text-white text-center",children:"Last Games"}),Object(y.jsx)("table",{id:"matchList",className:"table table-striped table-dark",children:Object(y.jsxs)("thead",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"#"}),Object(y.jsx)("th",{scope:"col",children:"Opponent"}),Object(y.jsx)("th",{scope:"col",children:"Result"}),Object(y.jsx)("th",{scope:"col",children:"Score"})]}),g.map((function(e){return function(e){var t,n=e.username===F;return T++,t=n?e.points>e.o_points?"Victory":"Defeat":e.points>e.o_points?"Defeat":"Victory",Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:T}),Object(y.jsx)("td",{children:Object(y.jsx)("a",{href:"#profile/:"+(n?e.opponent:e.username),children:n?e.opponent:e.username})}),Object(y.jsx)("td",{children:Object(y.jsx)("span",{style:{color:"Defeat"===t?"red":"green"},children:t})}),Object(y.jsxs)("td",{children:[n?e.points:e.o_points," - ",n?e.o_points:e.points]})]},T)}(e)}))]})}),a&&!a.matches.length?Object(y.jsx)("p",{id:"nomatch",children:"No Match"}):""]}),a.username!==a.current.username?Object(y.jsxs)("div",{className:"col-6 px-4 py-3",children:[Object(y.jsxs)("div",{className:"row px-4",children:[d?Object(y.jsxs)("button",{type:"button",onClick:function(){O.a.post("".concat("","/authentication/delfriend"),{username:F},{withCredentials:!0}).then((function(e){b(!1)}))},className:"btn mx-4 mb-3  btn-outline-primary",children:["Unfriend ",a.username]}):Object(y.jsx)("button",{type:"button",onClick:function(){O.a.post("".concat("","/authentication/addfriend"),{username:F},{withCredentials:!0}).then((function(e){b(!0)}))},className:"btn mx-4 mb-3  btn-primary",children:"Add As Friend"}),m?Object(y.jsxs)("button",{type:"button",onClick:function(){O.a.post("".concat("","/authentication/unblock"),{username:F},{withCredentials:!0}).then((function(e){x(!1)}))},className:"btn mx-4 mb-3  btn-outline-danger",children:["Unblock ",a.username]}):Object(y.jsx)("button",{type:"button",onClick:function(){O.a.post("".concat("","/authentication/block"),{username:F},{withCredentials:!0}).then((function(e){x(!0)}))},className:"btn mx-4 mb-3  btn-danger",children:"Block"})]}),Object(y.jsxs)("div",{className:"row px-4 py-3",children:[Object(y.jsx)("button",{type:"button",className:"btn mx-4 mb-3 btn-primary",children:"Send Game Request"}),Object(y.jsx)("button",{type:"button",className:"btn mx-4 btn-primary",children:"Send Message"})]})]}):Object(y.jsx)("div",{})]})]})})})}):Object(y.jsx)("div",{})]}):Object(y.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})};n(163);var X=function(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),j=Object(l.a)(r,2),d=j[0],b=j[1],u=0,h=s.a.useContext(I),m=L().user;return Object(c.useEffect)((function(){m.id>0&&h.emit("login",m.username),M.intercept401(e),O.a.get("".concat("","/authentication/all"),{withCredentials:!0}).then((function(e){e.data&&(b(e.data),i(!1))}))}),[a]),m.id>0?a?Object(y.jsx)("div",{children:Object(y.jsx)(A,{})}):Object(y.jsxs)("div",{children:[Object(y.jsx)(A,{}),Object(y.jsxs)("div",{className:"px-4 py-3 mt-2",children:[Object(y.jsx)("h3",{style:{padding:"12px"},className:"mb-0 text-white text-center bg-dark",children:"Ladder"}),Object(y.jsx)("table",{id:"ladderList",className:"table table-striped bg-dark text-white",children:Object(y.jsxs)("thead",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col",children:"#"}),Object(y.jsx)("th",{scope:"col",children:"Username"}),Object(y.jsx)("th",{scope:"col",children:"Victories"}),Object(y.jsx)("th",{scope:"col",children:"Defeats"}),Object(y.jsx)("th",{scope:"col",children:"Elo"})]}),d.map((function(e){return t=e,u++,Object(y.jsxs)("tr",{id:1===u?"gold":2===u?"silver":3===u?"bronze":"",children:[Object(y.jsx)("th",{scope:"row",children:Object(y.jsx)("p",{children:u})}),Object(y.jsxs)("td",{children:[Object(y.jsx)("img",{src:t.avatar,alt:"avatar",width:"30",height:"30"}),Object(y.jsx)("a",{href:"#profile/:"+t.username,children:t.username})]}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:t.wins})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:t.losses})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:t.elo})})]},u);var t}))]})})]})]}):Object(y.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})};var Z=function(){return s.a.useContext(I),n(164).config(),Object(y.jsx)(r.a,{children:Object(y.jsxs)("div",{className:"content",children:[Object(y.jsx)(o.b,{exact:!0,path:"/",component:F}),Object(y.jsx)(o.b,{exact:!0,path:"/profile/:username",component:Q}),Object(y.jsx)(o.b,{path:"/register",component:R}),Object(y.jsx)(o.b,{path:"/ladder",component:X}),Object(y.jsx)(o.b,{path:"/login",component:P}),Object(y.jsx)(o.b,{path:"/chat/:id",component:H}),Object(y.jsx)(o.b,{exact:!0,path:"/game",component:W}),Object(y.jsx)(o.b,{exact:!0,path:"/game/:room",component:J}),Object(y.jsx)(o.b,{path:"/logout",component:V})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};n(168);i.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(I.Provider,{value:D,children:Object(y.jsx)(S,{children:Object(y.jsx)(Z,{})})})}),document.getElementById("root")),$()},71:function(e,t,n){},99:function(e,t,n){}},[[169,1,2]]]);
//# sourceMappingURL=main.fe7050d8.chunk.js.map